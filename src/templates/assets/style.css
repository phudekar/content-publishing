/* === Reset & Base === */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; line-height: 1.6; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color: #1a1a2e; background: #fafafa; }

/* === Layout === */
.container { max-width: 860px; margin: 0 auto; padding: 0 1.5rem; }

/* === Header === */
.site-header { background: #1a1a2e; color: #fff; padding: 1rem 0; }
.site-header .container { display: flex; align-items: baseline; gap: 1rem; }
.site-title { color: #fff; text-decoration: none; font-size: 1.25rem; font-weight: 700; }
.site-subtitle { color: #aaa; font-size: 0.9rem; }

/* === Footer === */
.site-footer { margin-top: 3rem; padding: 1.5rem 0; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 0.85rem; }

/* === Typography === */
h1 { font-size: 2rem; margin: 1.5rem 0 1rem; }
h2 { font-size: 1.5rem; margin: 1.5rem 0 0.75rem; border-bottom: 2px solid #e0e0e0; padding-bottom: 0.3rem; }
h3 { font-size: 1.2rem; margin: 1.25rem 0 0.5rem; }
p { margin: 0.75rem 0; }
a { color: #2563eb; }

/* === Lists === */
.unit-list, .page-list { padding-left: 1.5rem; }
.unit-list > li { margin: 0.75rem 0; font-weight: 600; }
.page-list > li { font-weight: 400; margin: 0.25rem 0; }

/* === Breadcrumb === */
.breadcrumb { font-size: 0.85rem; color: #666; margin: 1.5rem 0 0.5rem; }
.breadcrumb a { color: #2563eb; }

/* === Pagination === */
.pagination { display: flex; justify-content: space-between; margin: 2rem 0; padding-top: 1rem; border-top: 1px solid #e0e0e0; }
.pagination .prev::before { content: "← "; }
.pagination .next::after { content: " →"; }

/* === Tags === */
.tags { margin: 1.5rem 0; display: flex; gap: 0.5rem; flex-wrap: wrap; }
.tag { background: #e0e7ff; color: #3730a3; padding: 0.15rem 0.6rem; border-radius: 999px; font-size: 0.8rem; }

/* === Code === */
pre { margin: 1rem 0; border-radius: 8px; overflow-x: auto; }
code { font-family: "JetBrains Mono", "Fira Code", "Consolas", monospace; font-size: 0.9em; }
p code, li code { background: #f0f0f0; padding: 0.15em 0.35em; border-radius: 3px; }

/* === Directives === */
.directive { margin: 1.25rem 0; padding: 1rem 1.25rem; border-left: 4px solid; border-radius: 0 8px 8px 0; }
.directive-label { font-weight: 700; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.05em; margin-bottom: 0.5rem; }
.directive-goal { border-color: #10b981; background: #ecfdf5; }
.directive-goal .directive-label { color: #059669; }
.directive-deliverables { border-color: #3b82f6; background: #eff6ff; }
.directive-deliverables .directive-label { color: #2563eb; }
.directive-diagram { border-color: #8b5cf6; background: #f5f3ff; font-family: monospace; white-space: pre; }
.directive-diagram .directive-label { color: #7c3aed; }
.directive-cheat { border-color: #f59e0b; background: #fffbeb; }
.directive-cheat .directive-label { color: #d97706; }

/* === Cheat Table === */
.cheat-table { width: 100%; border-collapse: collapse; margin: 0.5rem 0; }
.cheat-table th, .cheat-table td { padding: 0.4rem 0.75rem; text-align: left; border-bottom: 1px solid #e5e7eb; }
.cheat-table th { background: #f9fafb; font-size: 0.85rem; }
.cheat-table td code { background: #f3f4f6; padding: 0.1em 0.3em; border-radius: 3px; }

/* === Book Landing === */
.book-landing .subtitle { font-size: 1.2rem; color: #666; margin-bottom: 2rem; }

/* === Page Content === */
.page-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
.page-content th, .page-content td { padding: 0.5rem 0.75rem; border: 1px solid #e0e0e0; }
.page-content th { background: #f5f5f5; }
.page-content img { max-width: 100%; height: auto; border-radius: 4px; }

/* === Print / PDF === */
@media print {
  .site-header, .site-footer, .pagination, .breadcrumb { display: none; }
  body { background: #fff; font-size: 11pt; line-height: 1.5; }
  .container { max-width: 100%; padding: 0; }
  h1 { page-break-before: always; }
  h1:first-of-type { page-break-before: avoid; }
  pre { white-space: pre-wrap; word-wrap: break-word; }
  .directive { break-inside: avoid; }
  a { color: inherit; text-decoration: none; }
}

/* === Responsive === */
@media (max-width: 600px) {
  html { font-size: 14px; }
  .container { padding: 0 1rem; }
  .site-header .container { flex-direction: column; gap: 0.25rem; }
}
